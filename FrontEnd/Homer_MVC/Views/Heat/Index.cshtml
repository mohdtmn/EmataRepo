@{
    ViewBag.Title = "Index";
}

<div class="content animate-panel">

    

    <div class="row">

        <div id="map" class="panel-body">
            @section scripts{

                <style>
                    /* Always set the map height explicitly to define the size of the div
                    * element that contains the map. */
                    #map {
                        height: 400px;
                    }
                </style>

                <script>
                    var map;
                    var heaters = "@ViewBag.Heater";
                    function initMap() {


                        var myLatLng = { lat: 21.412294, lng: 39.890611 };

                        var map = new google.maps.Map(document.getElementById('map'), {
                            zoom: 15,
                            center: myLatLng,
                        });


                        var arry = heaters.split(";");



                        for (i = 0; i < arry.length; i++)
                        {
                            var sx = arry[i].split(",");

                            var color;
                            if (parseFloat(sx[2]) == 0)
                                color = "green";
                            else
                                color = "red";
                                var myLatLng2 = { lat: parseFloat(sx[0]), lng: parseFloat(sx[1]) };
                                var marker4 = new google.maps.Marker({
                                    position: myLatLng2,
                                    map: map,
                                    icon: {
                                        path: google.maps.SymbolPath.FORWARD_CLOSED_ARROW,
                                        strokeColor: color,
                                        scale: 3
                                    }
                                    
                                });
                            }
                        }
                    










                    

                </script>
                <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCFYFdbDSVgurNBUU9H2WpqagVqmpavErQ&callback=initMap"
                        async defer></script>

            }

        </div>


    </div>
</div>

